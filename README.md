「12ステップで作る組み込みOS自作入門」を読みながら作ったH8用プログラム、実質バックアップです。
書籍のサンプルプログラムに、自分のよくやる書き方や他で見たコードなどからアレンジを加えてあります。


### 各ステップについて、内容と感想・雑記など

- 01

  起動～シリアル出力での"Hello, World!!"。
  ブートローダから作るため、最初からそれなりにコード量が多かったです。
  すべて本を見ながら手打ち、startup.sでは小文字のlと数字の1が紛らわしくて困りました。
  シリアルのレジスタ操作の部分は、サンプルではビットマスクで行っていたものを以前見たRX用のプログラムを参考にビットフィールドで実装しようとして、それなりに嵌りました。volatileの位置とか、ビットフィールド用の変数の型とか、ビットの順番とか……

- 02

  簡単な標準関数と、intを16進文字列で出力する関数の追加。
  書籍の方は01の部分も含めた解説が大部分でした。
  変数名など好みの形に変えようとした結果それなりにコンパイルエラーは出ました。

- 03

  リンカスクリプトなどを変更し、静的変数を使用可能に。
  メモリ配置などなかなかに面白く感じました。

- 04

  プログラムをブートローダ化するために、シリアルでのデータ受信を実装。
  ついでにいくつか標準関数をいじりました。
